{% extends "base_student.html" %}

{% block content %}
    <h2>Available Courses with Upcoming Exams</h2>
    {% if courses %}
        <ul>
            {% for course in courses %}
                <li>
                    <h3>{{ course.name }}</h3>
                    <p>{{ course.description }}</p>
                    {% if course.id in registered_course_ids %}
                        <p><em>You are already registered for this course.</em></p>
                    {% else %}
                        <form action="{{ url_for('register_course', course_id=course.id) }}" method="POST">
                            <button type="submit">Register for Course</button>
                        </form>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No available courses with upcoming exams.</p>
    {% endif %}
{% endblock %}